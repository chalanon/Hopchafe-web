<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome to Firebase Hosting</title>

    <!-- update the version number as needed -->
    <script defer src="/__/firebase/11.10.0/firebase-app-compat.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/11.10.0/firebase-auth-compat.js"></script>
    <script defer src="/__/firebase/11.10.0/firebase-database-compat.js"></script>
    <script defer src="/__/firebase/11.10.0/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/11.10.0/firebase-functions-compat.js"></script>
    <script defer src="/__/firebase/11.10.0/firebase-messaging-compat.js"></script>
    <script defer src="/__/firebase/11.10.0/firebase-storage-compat.js"></script>
    <script defer src="/__/firebase/11.10.0/firebase-analytics-compat.js"></script>
    <script defer src="/__/firebase/11.10.0/firebase-remote-config-compat.js"></script>
    <script defer src="/__/firebase/11.10.0/firebase-performance-compat.js"></script>
    <!-- 
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>

    <style media="screen">
      body { background: #ECEFF1; color: rgba(0,0,0,0.87); font-family: Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; }
      #message { background: white; max-width: 360px; margin: 100px auto 16px; padding: 32px 24px; border-radius: 3px; }
      #message h2 { color: #ffa100; font-weight: bold; font-size: 16px; margin: 0 0 8px; }
      #message h1 { font-size: 22px; font-weight: 300; color: rgba(0,0,0,0.6); margin: 0 0 16px;}
      #message p { line-height: 140%; margin: 16px 0 24px; font-size: 14px; }
      #message a { display: block; text-align: center; background: #039be5; text-transform: uppercase; text-decoration: none; color: white; padding: 16px; border-radius: 4px; }
      #message, #message a { box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); }
      #load { color: rgba(0,0,0,0.4); text-align: center; font-size: 13px; }
      @media (max-width: 600px) {
        body, #message { margin-top: 0; background: white; box-shadow: none; }
        body { border-top: 16px solid #ffa100; }
      }
    </style>
  </head>
  <body>
    <!-- ...existing code... (ส่วนของ login/home ที่คุณแก้ไขไว้) ...existing code... -->
    <title>เข้าสู่ระบบ | ชื่อร้านคาเฟ่</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #f8f8f8;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      font-family: 'Sarabun', sans-serif;
    }
    .logo-link {
      position: absolute;
      top: 24px;
      left: 24px;
      z-index: 10;
      display: block;
    }
    .logo-link img {
      width: 80px;
      height: auto;
      border-radius: 12px;
      box-shadow: 0 2px 8px #0002;
      transition: box-shadow 0.2s;
    }
    .logo-link img:hover {
      box-shadow: 0 4px 16px #0003;
    }
    .cover-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      flex: 1;
      min-height: 100vh;
      background: #fff;
    }
    .cover-container img {
      max-width: 100%;
      height: auto;
      border-radius: 16px;
      box-shadow: 0 2px 12px #0002;
      margin-top: 40px;
      margin-bottom: 40px;
    }
    h1 {
      color: #6a4c38;
      margin-bottom: 0.5em;
    }
    .profile-area {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 18px;
      justify-content: flex-end;
    }
    .profile-circle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #b77b4c;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3em;
      font-weight: bold;
      box-shadow: 0 2px 8px #0002;
    }
    .profile-name {
      font-weight: 600;
      color: #6a4c38;
    }
    .logout-btn {
      background: #e57373;
      color: #fff;
      border: none;
      border-radius: 16px;
      padding: 0.4em 1em;
      margin-left: 8px;
      cursor: pointer;
      font-size: 0.95em;
      transition: background 0.2s;
    }
    .logout-btn:hover {
      background: #b71c1c;
    }
    .login-btn {
      background: #b77b4c;
      color: #fff;
      border: none;
      border-radius: 16px;
      padding: 0.5em 1.2em;
      font-size: 1em;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.2s;
    }
    .login-btn:hover {
      background: #6a4c38;
    }
  </style>
</head>
<body>
  <div style="width: 100%; min-height: 80px; display: flex; align-items: center; justify-content: flex-start;">
    <a href="login.html" class="logo-link" style="margin-left:24px;">
      <img src="https://tse1.mm.bing.net/th/id/OIP.QRJR_4Y3hoyuaVZJGTNuAAHaHa?cb=thvnextc2&rs=1&pid=ImgDetMain&o=7&rm=3" alt="โลโก้ร้านคาเฟ่" style="width: 80px; height: auto; border-radius: 12px; box-shadow: 0 2px 8px #0002;">
    </a>
    <div style="flex:1;"></div>
    <div style="display: flex; align-items: center; gap: 18px; margin-right: 32px;">
      <a href="menu.html">
        <button style="padding: 0.5em 2em; font-size: 1.1em; border-radius: 24px; background: #b77b4c; color: #fff; border: none; font-weight: bold; cursor: pointer;">เมนู</button>
      </a>
      <a id="login-header-btn" href="register.html" style="margin-left:10px;">
        <button style="padding: 0.5em 2em; font-size: 1.1em; border-radius: 24px; background: #6a4c38; color: #fff; border: none; font-weight: bold; cursor: pointer;">Login / Register</button>
      </a>
      <div id="profile-header-area"></div>
    </div>
  </div>
<script type="module">

// ฟังก์ชันเช็ค role แล้ว redirect ถ้าเป็น admin หรือผู้ดูแลร้าน
function checkRoleRedirect() {
  const user = JSON.parse(localStorage.getItem('loginUser'));
  if (user && (user.role === 'admin' || user.role === 'ผู้ดูแลร้าน')) {
    window.location.href = 'admin_dashboard.html';
  }
}

// แสดงโปรไฟล์ใน header ถ้า login แล้ว
function renderHeaderProfile() {
  const user = JSON.parse(localStorage.getItem('loginUser'));
  const area = document.getElementById('profile-header-area');
  const loginBtn = document.getElementById('login-header-btn');
  if (!area) return;
  if (user) {
    area.innerHTML = `
      <div style="display:flex;align-items:center;gap:10px;">
        <div style="width:40px;height:40px;border-radius:50%;background:#6a4c38;color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.2em;font-weight:bold;">${(user.username ? user.username[0] : user.email[0]).toUpperCase()}</div>
        <span style="font-weight:600;color:#6a4c38;">${user.username || user.email}</span>
        <button onclick="localStorage.removeItem('loginUser');location.reload();" class="logout-btn">ออกจากระบบ</button>
      </div>
    `;
    if (loginBtn) loginBtn.style.display = 'none';
  } else {
    area.innerHTML = '';
    if (loginBtn) loginBtn.style.display = '';
  }
}

// เช็ค role และ redirect ทุกครั้งที่โหลดหน้า
checkRoleRedirect();
// เรียก renderHeaderProfile ทุกครั้งที่โหลดหน้า
renderHeaderProfile();

</script>

  <div class="cover-container">
    <img src="https://hopchafe.co.th/wp-content/uploads/2025/01/cover_web_edit-05-05.png" alt="หน้าแรกคาเฟ่" />
    <div style="flex:1; min-width:320px; text-align:center;">
      <a href="login.html" style="display:inline-block; margin: 24px 0 16px 0;">
        <img src="https://hopchafe.co.th/wp-content/uploads/2025/01/e0b8abe0b8a1e0b8b5e0b980e0b8aae0b8a3e0b8b4e0b89fe0b899e0b989e0b8b3-02.png"
          alt="Hop Chafe Bear"
          style="max-width: 420px; width: 100%; height: auto; cursor:pointer; transition:box-shadow 0.2s;"
          onmouseover="this.style.boxShadow='0 4px 16px #b77b4c55'"
          onmouseout="this.style.boxShadow='0 2px 8px #0002'"
        >
      </a>
      <br>
      <a href="menu.html">
        <button style="padding: 0.7em 2.5em; font-size: 1.2em; border-radius: 28px; background: #b77b4c; color: #fff; border: none; font-weight: bold; cursor: pointer; box-shadow:0 2px 8px #b77b4c33; margin-top: 12px; transition: background 0.2s;">
          เข้าสู่หน้าเมนู
        </button>
      </a>
    </div>
    <div style="flex:1; min-width:320px; text-align:center; padding: 24px;">
      <h2 style="font-size:2.8rem; color:#444; font-family:'Sarabun',sans-serif; font-weight:900; margin-bottom:0.5em; letter-spacing:1px;">About us</h2>
      <div style="font-size:1.1rem; color:#444; line-height:2; max-width: 500px; margin: 0 auto;">
        เราคือแฟรนไชส์ชานมไข่มุก ที่มีจุดเด่นในเรื่องของรสชาติที่นุ่มนวล<br>
        ในราคาเพียง <b>20 บาท</b> หรือลูกค้าราคาดีโดนใจและรสชาติที่เป็นเอกลักษณ์ ทำให้ลูกค้าทุกท่านต้องติดใจ และเลือกชานม Hop Chafe เป็นส่วนหนึ่งของทุกวัน ตรงตามคอนเซ็ปต์<br>
        <b>" HOP UP YOU DAY "</b>
      </div>
      <img src="https://hopchafe.co.th/wp-content/uploads/2025/01/line-about.png" alt="" style="margin-top:1.5em; max-width:120px; width:100%;">
    </div>
  </div>
  
  <footer style="width:100%; margin-top:40px; background: #f3f3f3;">
  <div style="display:flex; flex-wrap:wrap; justify-content:space-between; align-items:flex-start; max-width:1200px; margin:0 auto; padding:40px 32px 24px 32px; gap:24px;">
    <!-- Logo & Refresh -->
    <div style="text-align:left; flex:1; min-width:200px;">
      <button onclick="window.scrollTo({top:0,behavior:'smooth'});location.reload();" style="background:none; border:none; cursor:pointer; padding:0;">
        <img src="https://play-lh.googleusercontent.com/zEe6Ugn1OoFIeP0bYbzqcnP_f0-5HkaYDfwqpMFfBV7Mz0u93XpKUklXXr6ed4uSx7Q" alt="Hopchafe Logo" style="width:80px; height:auto;">
      </button>
      <div style="font-weight:700; font-size:1.1em; margin-top:8px;">Hopchafe</div>
      <div style="color:#789; font-size:0.98em; margin-top:4px;">Franchise, Hopchafe, Tea</div>
    </div>

    <!-- Footer Links -->
    <div style="display:flex; gap:48px; font-size:1em; flex:2; flex-wrap:wrap; min-width:250px;">
      <div style="min-width:120px;">
        <div style="font-weight:700; margin-bottom:8px;">About</div>
        <a href="about.html" style="color:#444; margin-bottom:4px; display:block; text-decoration:none;">About Us</a>
        <a href="team.html" style="color:#444; margin-bottom:4px; display:block; text-decoration:none;">Team</a>
        <a href="history.html" style="color:#444; margin-bottom:4px; display:block; text-decoration:none;">History</a>
        <a href="careers.html" style="color:#444; display:block; text-decoration:none;">Careers</a>
      </div>

      <div style="min-width:120px;">
        <div style="font-weight:700; margin-bottom:8px;">Privacy</div>
        <a href="privacy-policy.html" style="color:#444; margin-bottom:4px; display:block; text-decoration:none;">Privacy Policy</a>
        <a href="terms.html" style="color:#444; margin-bottom:4px; display:block; text-decoration:none;">Terms and Conditions</a>
        <a href="contact.html" style="color:#444; display:block; text-decoration:none;">Contact Us</a>
      </div>

      <div style="min-width:120px;">
        <div style="font-weight:700; margin-bottom:8px;">Social</div>
        <a href="https://www.facebook.com/HOPChafeOfficial" style="color:#444; display:block; margin-bottom:4px; text-decoration:none;">Facebook</a>
        <a href="https://www.instagram.com/hop_chafe/?hl=en" style="color:#444; display:block; margin-bottom:4px; text-decoration:none;">Instagram</a>
        <a href="#" style="color:#444; display:block; text-decoration:none;">Line</a>
      </div>
    </div>
  </div>
</footer>
  </body>
</html>
